.\" Copyright (c) 2007 Thomas Hurst <tom@hur.st>
.\"
.\" Permission is hereby granted, free of charge, to any person obtaining a copy
.\" of this software and associated documentation files (the "Software"), to deal
.\" in the Software without restriction, including without limitation the rights
.\" to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
.\" copies of the Software, and to permit persons to whom the Software is
.\" furnished to do so, subject to the following conditions:
.\" 
.\" The above copyright notice and this permission notice shall be included in
.\" all copies or substantial portions of the Software.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
.\" IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
.\" FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
.\" AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
.\" LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
.\" OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
.\" THE SOFTWARE.
.\"
.Dd October 21, 2007
.Dt K8TEMP 8
.Os
.Sh NAME
.Nm k8temp
.Nd "display on-die temperature readings from AMD K8 processors"
.Sh SYNOPSIS
.Nm
.Op Fl dc
.Op Fl v
.Op Fl h
.Sh DESCRIPTION
The
.Nm
utility displays temperature readings from AMD K8 processors using
their on-die thermal diode(s).
.Pp
.Nm
requires read-write access to /dev/pci, and thus must be run as root.
.Pp
The following options are available:
.Bl -tag -width indent
.It Fl v
Display version and copyright information.
.It Fl h
Display help text.
.It Fl d
Display debug information, including raw register contents and interpreted subvalues, and
an Advanced Power Management feature dump.
.It Fl c
Apply diode offset correction based on DiodeOffset register bits (not recommended)
.El
.Sh BUGS
.Nm
may cause unsupported systems to reboot, crash or explode.
.Pp
Core numbers on single core systems may be incorrect.
.Pp
Returned values may be wildly incorrect, even, or especially when offset correction is applied.
.Sh HISTORY
.Bl -tag -width indent
.It 0.1.0, 2007-10-21
First release.
.It 0.1.1, 2007-10-22
Fixes a serious error resulting in writes to a bogus PCI register.
.It 0.2.0, 2007-10-25
Add support for diode offset correction and debugging options.  Add CPUID check.
.El
.Sh SEE ALSO
BIOS and Kernel Developer's Guide for AMD NPT Family 0fh Processors.
Section 4.6.23, Thermtrip Status Register.
.Pp
AMD CPUID Specification, CPUID Fn8000_0007, Advanced Power Management Information.
.Sh AUTHOR
Thomas Hurst <tom@hur.st>
